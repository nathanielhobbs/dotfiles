# ──────────────────────────────────
# Monitor Layout & Scaling
# ──────────────────────────────────
# 1080p secondary @100%, placed at (0,0) — we'll rotate it dynamically
monitor=HDMI-A-1,1920x1080@60,0x0,1

# 4K main @125%, placed immediately to the right (width of portrait =1080)
monitor=DP-1,3840x2160@60,1080x0,1.25

workspace=1,monitor:DP-1
workspace=2,monitor:DP-1
workspace=3,monitor:DP-1
workspace=4,monitor:DP-1
workspace=5,monitor:DP-1

workspace=6,monitor:HDMI-A-1
workspace=7,monitor:HDMI-A-1
workspace=8,monitor:HDMI-A-1

# ──────────────────────────────────
# Dynamic rotation (via helper script)
# ──────────────────────────────────
# Rotate portrait monitor at startup
exec = /home/nhobbs/.config/hypr/rotate-hdmi.sh

# DPI Fix on main monitor
exec-once = xrdb -merge /home/nhobbs/.Xresources

#exec-once = hyprctl dispatch exec "hyprctl reload; sleep 0.5; hyprctl keyword monitor HDMI-A-1,1920x1080@60,0x0,1,transform,1"

# Autostart
# ──────────────────────────────────
# Primary on DP-1
exec-once = waybar --config ~/.config/waybar/config &

# Secondary on HDMI-A-1
exec-once = waybar --config ~/.config/waybar/config-secondary &

exec-once = alacritty
exec-once = hypridle
exec = hyprpaper  # per-monitor wallpapers
exec = mako


# ──────────────────────────────────
# Keybinds
# ──────────────────────────────────
# Volume
bind = , XF86AudioRaiseVolume, exec, pamixer -i 5
bind = , XF86AudioLowerVolume, exec, pamixer -d 5
bind = , XF86AudioMute, exec, pamixer -t

# Media
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioStop, exec, playerctl stop

# Calculator
bind = , XF86Calculator, exec, kcalc

# Super+Shift+R → rotate HDMI-A-1
bind=SUPER,R,exec,/home/nhobbs/.config/hypr/rotate-hdmi.sh
bind=SUPER,RETURN,exec,alacritty
bind=SUPER,C,killactive,
bind=SUPER,F,fullscreen
bind=SUPER,E,exec,thunar
bind=SUPER,M,exit
bind=ALT,SPACE,exec,anyrun
#bind=ALT,SPACE,exec,rofi -show drun
bind = SUPER, F12, exec, ~/.local/bin/wofi-power
bind=SUPER,Print,exec,flameshot gui
bind=SUPER,I,exec,/home/nhobbs/.local/bin/chromium-wayland
bind=SUPER_SHIFT,I,exec,/home/nhobbs/.local/bin/firefox-safe
bind=SUPER,D,exec,dolphin,
bind=SUPER,O, togglefloating,
bind=SUPER,L, exec, hyprlock
bind = , Print, exec, sh -c 'grim -g "$(slurp)" - | swappy -f -'
bind = SUPER, Print, exec, sh -c 'grim -g "$(slurp)" - | wl-copy'
bind = SHIFT, Print, exec, sh -c 'grim -g "$(slurp)" ~/Pictures/screenshot_$(date +%s).png'

#bind=PRINT,exec,sh -c 'grim -g "$(slurp)" - | swappy -f -'
#bind=SUPER+PRINT,exec,sh -c 'grim -g "$(slurp)" - | wl-copy'
#bind=SHIFT+PRINT,exec,sh -c 'grim -g "$(slurp)" ~/Pictures/screenshot_$(date +%s).png'


# Switch to workspace N with Super+N
bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8

#bind=SUPER,RIGHT,workspace,next
#bind=SUPER,LEFT,workspace,prev
# Numeric workspace increment/decrement
bind=SUPER,RIGHT,exec,/home/nhobbs/bin/ws-next
bind=SUPER,LEFT,exec,/home/nhobbs/bin/ws-prev

# Optional: move window too
bind=SUPERSHIFT,RIGHT,exec,/home/nhobbs/bin/ws-next && hyprctl dispatch movetoworkspace next
#bind=SUPERSHIFT,LEFT,exec,/home/nhobbs/bin/ws-prev && hyprctl dispatch movetoworkspace prev


# Move the focused window to workspace N with Super+Shift+N
bind=SUPERSHIFT,1,movetoworkspace,1
bind=SUPERSHIFT,2,movetoworkspace,2
bind=SUPERSHIFT,3,movetoworkspace,3
bind=SUPERSHIFT,4,movetoworkspace,4
bind=SUPERSHIFT,5,movetoworkspace,5
bind=SUPERSHIFT,6,movetoworkspace,6
bind=SUPERSHIFT,7,movetoworkspace,7
bind=SUPERSHIFT,8,movetoworkspace,8

#bind=CTRLSHIFT,L,workspace,next
#bind=CTRLSHIFT,H,workspace,prev
bind=CTRLSHIFT,L,exec,/home/nhobbs/bin/ws-next
bind=CTRLSHIFT,H,exec,/home/nhobbs/bin/ws-prev

# Vim-style focus (via dispatch)
bind=CTRL,h,movefocus,l
bind=CTRL,j,movefocus,d
bind=CTRL,k,movefocus,u
bind=CTRL,l,movefocus,r

bind = CTRL_ALT, h, swapwindow, l
bind = CTRL_ALT, j, swapwindow, d
bind = CTRL_ALT, k, swapwindow, u
bind = CTRL_ALT, l, swapwindow, r

bind = ALT, h, resizeactive, -20 0
bind = ALT, j, resizeactive, 0 20
bind = ALT, k, resizeactive, 0 -20
bind = ALT, l, resizeactive, 20 0

# ──────────────────────────────────
# Mouse Controls
# ──────────────────────────────────
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow

general {
  # Inner gaps between windows
  gaps_in = 8

  # Outer gaps between windows and screen edge
  gaps_out = 16

  # Thickness of the border around focused/ unfocused windows
  border_size = 4

  # Border colors (use rgba hex – alpha last)
  col.active_border   = rgba(ff6600ff)   # bright orange for focused
  col.inactive_border = rgba(444444aa)   # dim gray for unfocused
}

decoration {
  # Enable rounded corners on windows
  rounding = true

  # Radius (in pixels) of the corner curve
  #round_radius = 12
}

